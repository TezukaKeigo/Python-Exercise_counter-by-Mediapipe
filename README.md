# 运动计数器系统

一个基于 MediaPipe 的实时运动计数系统，支持深蹲、俯卧撑、仰卧起坐和跳绳四种运动的自动计数。

## 如何开始

### 1. 安装依赖
```bash
pip install opencv-python mediapipe numpy
```

### 2. 运行主程序
```bash
python main.py
```

### 3. 使用流程
1. 运行程序后，选择运动类型：
   - 1: 深蹲
   - 2: 俯卧撑  
   - 3: 仰卧起坐
   - 4: 跳绳
   - 5: 查看运动记录
   - q: 退出系统

2. 选择视频源：
   - 使用摄像头（选择1）
   - 使用视频文件（选择2，然后输入视频路径）

3. 开始计数：
   - 程序会自动检测运动并计数
   - 按 `q` 键退出当前计数
   - 计数结果会自动保存到日志文件

### 4. 测试视频
- 测试视频可使用 `test_video` 文件夹里的视频
- 支持的视频格式：MP4、AVI、MOV等常见格式
- 程序会自动将非MP4格式转换为MP4格式

## 项目结构
```
project/
├── main.py                 # 主程序
├── squat_counter.py        # 深蹲计数器
├── pushup_counter.py       # 俯卧撑计数器
├── situp_counter.py        # 仰卧起坐计数器
├── jump_rope_counter.py    # 跳绳计数器
├── exercise_log.txt        # 运动记录日志（自动生成）
```

## 注意事项
1. 确保摄像头可用（如果选择摄像头模式）
2. 测试视频可放在 `test_video` 文件夹中
3. 运动时请确保全身在摄像头画面内
4. 建议在光线充足的环境下使用

## 运动计数原理
- **深蹲**：检测髋部和膝盖的相对位置变化
- **俯卧撑**：检测肘部角度变化和身体角度
- **仰卧起坐**：检测肩膀-髋部-膝盖的角度变化  
- **跳绳**：检测髋部高度变化（跳跃动作）

## 问题反馈
如果遇到任何问题，请确保：
1. 已安装所有依赖包
2. 摄像头权限已开启
3. 测试视频文件路径正确
4. Python版本为3.7或更高
